{% extends "base.html" %}

{% block title %} IMDb Movie Searcher {% endblock %}

{% block content %}
<form action="/search" method="get">
    <label for="field">Filter by field:</label>
    <select id="field" name="field">
        <option value="all" {% if selected_field == "all" %}selected{% endif %}>All</option>
        <option value="Series_Title" {% if selected_field == "Series_Title" %}selected{% endif %}>Title</option>
        <option value="Genre" {% if selected_field == "Genre" %}selected{% endif %}>Genre</option>
        <option value="Overview" {% if selected_field == "Overview" %}selected{% endif %}>Overview</option>
        <option value="Director" {% if selected_field == "Director" %}selected{% endif %}>Director</option>
    </select>
    <input type="text" name="query" placeholder="Enter movie title..."/>
    <button class="btn btn-primary"  type="submit">Search</button>
</form>
{% for hit in response %}
    <div class='card' style="width: 18rem; display: inline-block;">
        <img src="{{ hit['_source']['Poster_Link'] }}" >
        <br>
        <a href="/movie/{{ hit['_id'] }}">
            {{ hit['_source']['Series_Title'] }}
        </a>
        <p>Rating: {{ hit['_source']['IMDB_Rating'] }} </p>
    </div>
{% endfor %}
{% endblock %}
