{% extends "base.html" %}

{% block title %} IMDb Movie Searcher {% endblock %}

{% block content %}
<form action="/search" method="get">
    <label for="field">Filter by field:</label>
    <select id="field" name="field">
        <option value="all" {% if selected_field == "all" %}selected{% endif %}>All</option>
        <option value="Series_Title" {% if selected_field == "Series_Title" %}selected{% endif %}>Title</option>
        <option value="Genre" {% if selected_field == "Genre" %}selected{% endif %}>Genre</option>
        <option value="Overview" {% if selected_field == "Overview" %}selected{% endif %}>Overview</option>
        <option value="Director" {% if selected_field == "Director" %}selected{% endif %}>Director</option>
    </select>
    <input type="text" name="query" class="form-control" placeholder="Enter movie title..."/>
    <button class="btn btn-primary"  type="submit">Search</button>
</form>
<div class='responses'>
{% for hit in response %}
    <div class='card' style="width: 6rem; display: inline-block; margin-bottom: 1rem;">
        <img class='card-img-top' src="{{ hit['_source']['Poster_Link'] }}" >
        <br>
        <div class='card-body'>
            <h5 class='card-title' >
                <a href="/movie/{{ hit['_id'] }}"> {{ hit['_source']['Series_Title'] }}</a>
            </h5>
            <p>Rating: {{ hit['_source']['IMDB_Rating'] }} </p>
        </div>
    </div>
{% endfor %}
</div>
{% endblock %}
